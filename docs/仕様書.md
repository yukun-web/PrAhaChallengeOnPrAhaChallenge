## 仕様

プラハチャレンジには、以下の概念とそれに付随する情報やルールが存在します

### 参加者
- 名前とメールアドレスを持つ
- メールアドレスの重複は許容されない
- 在籍ステータスを持つ。取りうる値は「在籍中」「休会中」「退会済」の3つ
  - ステータスが「在籍中」ではない場合、どのチームにも所属してはいけない

### チーム
- チームには名前がある
- チームの名前はa, b, c, dのような英文字でなければいけない
- チームの名前は重複不可
- チームの人数は2〜4名。人数が変動したときの挙動については[参加者の増減に関する仕様](https://www.notion.so/1-3c47d1cb3f9841f799fa1ae45eb16541?pvs=21)を参照

### 課題
- 全ての参加者は複数の課題（80個ぐらい）を所有（割り当てられて）いる
  - 例えば参加者Aが課題を80個、参加者Bが課題を80個所有している
- 課題には、参加者ごとに進捗ステータスがある
  - 進捗ステータスは「未着手、取組中、レビュー待ち、完了」いずれかの値を持つ
  - 進捗ステータス変更可否の条件は以下の通り
    - 「未着手」は、「取組中」にのみ変更できる
    - 「取組中」は「レビュー待ち」にのみ変更できる
    - 「レビュー待ち」は、「取組中」もしくは「完了」に変更できる
    - 「完了」は変更できない
  - 進捗ステータスを変更できるのは、課題の所有者だけ（Aさんの課題1の進捗ステータスを変えられるのはAさんだけ。Aさんの課題1の進捗ステータスをBさんが変更するのは不可能）

### 参加者の増減に関する仕様
- 参加者が減る場合（休会・退会）
  - 参加者が減ることでチームが2名以下になってしまう場合、状況を早期に検知して運営側が解決できるよう**管理者のメールアドレス（今回の課題ではあなたのメールアドレス）宛にメールを送信**する。その際メール文面を見れば「どの参加者が減ったのか」「どのチームが2名以下になったのか」「そのチームの現在の参加者名」が分かるようにする
  - 参加者が減ることでチームが1名になってしまう場合、残った参加者は**自動的に他のチームに合流する**必要がある
    - 合流先は最も参加人数が少ないチームから自動的に選ばれる
      - 参加人数が同じの場合はランダムに選択する
      - 課題の簡略化のため、合流先の参加者には合流の許諾を得る必要なく、アプリケーションが自動的に（勝手に）チームを組み替えることとする
    - もし合流可能なチームがない場合は、その旨を管理者にメールして連絡する。その際メール文を見れば「どの参加者が減ったのか」「どの参加者が合流先を探しているのか」が分かるようにしてください
      - 最低人数が４人の場合はランダムで選ばれた上で分割されるので合流可能なチームがないという状況はないものとする

- 参加者が増える場合（休会・退会からの復帰）
  - 休会中の参加者が復帰した（在籍ステータス「在籍中」に切り替わった）際に所属するチームは、最も参加人数が少ないチームから自動的に選ばれる
    - 参加人数が同じの場合はランダムに選択する
  - 参加者が増えることでチームが5名になってしまう場合、自動的に2つのチームに分解する必要がある
    - 分解する仕様の指定はないので、新しいチームはランダムに選択して構わない